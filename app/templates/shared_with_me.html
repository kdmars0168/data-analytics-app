{% extends "base.html" %}
{% block content %}
<head>

    <title>Shared With Me</title>
    <link rel="stylesheet" href="static/css/swmstyles.css">
</head>
<body>

    <div class="main-content-wrapper">
        <header class="page-header">
            <h1>Shared With Me</h1>
            <p>View and analyze data that others have shared with you</p>
        </header>

        <div class="content-columns">
            <section class="column people-sharing-section">
                <h2>People Sharing With You</h2>
                <p class="section-subtitle">Select a user to view their shared data</p>
                
                <div class="controls">
                    <div class="search-bar">
                        <svg viewBox="0 0 16 16" fill="currentColor"><path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/></svg>
                        <input type="text" placeholder="Search people...">
                    </div>
                    <div class="filter-dropdown">
                        <span>All Data</span>
                        <svg viewBox="0 0 16 16" fill="currentColor"><path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/></svg>
                    </div>
                </div>

                <div class="user-list">
                    {% for user in shared_users %}
                    <div class="user-card">
                        <div class="user-card-top-content">
                        <div class="avatar">{{ user.initials }}</div>
                        <div class="user-details">
                            <h3>{{ user.name }}</h3>
                            <p class="email">{{ user.email }}</p>
                            <p class="shared-since">
                                Shared since {{ user.shared_since.strftime('%Y-%m-%d') if user.shared_since else '' }}
                            </p>
                        </div>
                    </div>
                        <div class="tags">
                            <span class="tag">
                                <svg viewBox="0 0 16 16" fill="currentColor"><path d="M11 2a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v12h.5a.5.5 0 0 1 0 1H.5a.5.5 0 0 1 0-1H1v-3a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v3h1V7a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v7h1V2zm1 12h2V2h-2v12zm-3 0V7H7v7h2zm-5 0v-3H2v3h2z"/></svg>
                                Weekly
                            </span>
                            <span class="tag"                                       >
                                <svg viewBox="0 0 16 16" fill="currentColor"><path d="M2 3.5a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 .5.5v5a.5.5 0 0 1-.5.5H.5a.5.5 0 0 1-.5-.5v-5A.5.5 0 0 1 2 3.5zm1.5 1a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-1zm5 0a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-1zm3.5.5a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-1z"/><path d="M1 11.5A1.5 1.5 0 0 0 2.5 13h11A1.5 1.5 0 0 0 15 11.5V10H1v1.5z"/></svg>
                                Sleep
                            </span>
                            <span class="tag">
                                <svg viewBox="0 0 16 16" fill="currentColor"><path fill-rule="evenodd" d="M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2v1z"/><path d="M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466z"/></svg>
                                Mood
                            </span>                                               
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </section>

            <section class="column shared-datasets-section">
                <h2>Shared Datasets Datasets</h2>
                <p class="section-subtitle">Select a dataset to view the visualization</p>
                <div class="dataset-grid">
                    {% for dataset in shared_datasets %}
                    <div class="dataset-card">
                        <div class="dataset-icon-wrapper purple">
                            <svg viewBox="0 0 16 16" fill="currentColor"><path d="M11 2a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v12h.5a.5.5 0 0 1 0 1H.5a.5.5 0 0 1 0-1H1v-3a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v3h1V7a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v7h1V2zm1 12h2V2h-2v12zm-3 0V7H7v7h2zm-5 0v-3H2v3h2z"/></svg>
                        </div>
                        <h4>{{ dataset.title }}</h4>
                        <p>{{ dataset.chart_type }}</p>
                    </div>
                    {% endfor %}
                </div>
            </section>
        </div>
    </div>
</body>
{% endblock %}